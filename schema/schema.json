{
  "tables": [
    {
      "name": "goals",
      "schema": "public",
      "description": "Lagrer mål knyttet til en innlogget bruker, inkludert motivasjon, status og metadata for visning i appen.",
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "nullable": false,
          "default": "gen_random_uuid()",
          "description": "Primærnøkkel som identifiserer målet."
        },
        {
          "name": "user_id",
          "type": "uuid",
          "nullable": false,
          "description": "Referanse til Supabase-brukeren som eier målet."
        },
        {
          "name": "title",
          "type": "text",
          "nullable": false,
          "description": "Kort tittel som beskriver målet."
        },
        {
          "name": "why",
          "type": "text",
          "nullable": false,
          "description": "Brukerens begrunnelse for hvorfor målet er viktig."
        },
        {
          "name": "deadline",
          "type": "date",
          "nullable": true,
          "description": "Valgfri sluttdato for målet."
        },
        {
          "name": "image",
          "type": "text",
          "nullable": true,
          "description": "Data-URL eller ekstern lenke til forsidebildet for målet."
        },
        {
          "name": "status",
          "type": "text",
          "nullable": false,
          "default": "'0%'",
          "description": "Prosentvis progresjon lagret som tekst (for eksempel '25%')."
        },
        {
          "name": "category",
          "type": "text",
          "nullable": true,
          "description": "Valgfri kategori som målet tilhører."
        },
        {
          "name": "important",
          "type": "text",
          "nullable": true,
          "description": "Fritekstfelt som beskriver hvorfor målet er viktigst akkurat nå."
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": "now()",
          "description": "Tidspunkt da målet ble opprettet."
        }
      ],
      "primaryKey": ["id"],
      "foreignKeys": [
        {
          "columns": ["user_id"],
          "references": {
            "schema": "auth",
            "table": "users",
            "columns": ["id"]
          },
          "onDelete": "cascade"
        }
      ],
      "indexes": [
        {
          "name": "goals_user_id_created_at_idx",
          "columns": ["user_id", "created_at"]
        }
      ]
    },
    {
      "name": "goal_milestones",
      "schema": "public",
      "description": "Milepæler knyttet til et mål, med rekkefølge og status for fremdrift.",
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "nullable": false,
          "default": "gen_random_uuid()",
          "description": "Primærnøkkel for milepælen."
        },
        {
          "name": "goal_id",
          "type": "uuid",
          "nullable": false,
          "description": "Referanse til målet milepælen tilhører."
        },
        {
          "name": "title",
          "type": "text",
          "nullable": false,
          "description": "Kort beskrivelse av milepælen."
        },
        {
          "name": "detail",
          "type": "text",
          "nullable": true,
          "description": "Utfyllende detaljer om milepælen."
        },
        {
          "name": "completed",
          "type": "boolean",
          "nullable": false,
          "default": "false",
          "description": "Om milepælen er fullført."
        },
        {
          "name": "progress",
          "type": "numeric",
          "nullable": true,
          "description": "Valgfri prosentvis fremdrift for milepælen."
        },
        {
          "name": "position",
          "type": "integer",
          "nullable": false,
          "default": "0",
          "description": "Sorteringsrekkefølge for milepælen innen et mål."
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": "now()",
          "description": "Tidspunkt milepælen ble opprettet."
        }
      ],
      "primaryKey": ["id"],
      "foreignKeys": [
        {
          "columns": ["goal_id"],
          "references": {
            "schema": "public",
            "table": "goals",
            "columns": ["id"]
          },
          "onDelete": "cascade"
        }
      ],
      "indexes": [
        {
          "name": "goal_milestones_goal_id_position_idx",
          "columns": ["goal_id", "position"]
        }
      ]
    },
    {
      "name": "goal_milestone_todos",
      "schema": "public",
      "description": "Oppgaver knyttet til en milepæl for et mål.",
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "nullable": false,
          "default": "gen_random_uuid()",
          "description": "Primærnøkkel for to-do-elementet."
        },
        {
          "name": "milestone_id",
          "type": "uuid",
          "nullable": false,
          "description": "Referanse til milepælen oppgaven tilhører."
        },
        {
          "name": "title",
          "type": "text",
          "nullable": false,
          "description": "Kort beskrivelse av oppgaven."
        },
        {
          "name": "detail",
          "type": "text",
          "nullable": true,
          "description": "Valgfri detaljtekst for oppgaven."
        },
        {
          "name": "completed",
          "type": "boolean",
          "nullable": false,
          "default": "false",
          "description": "Om oppgaven er markert som ferdig."
        },
        {
          "name": "position",
          "type": "integer",
          "nullable": false,
          "default": "0",
          "description": "Sorteringsrekkefølge for oppgaven innen milepælen."
        },
        {
          "name": "created_at",
          "type": "timestamp with time zone",
          "nullable": false,
          "default": "now()",
          "description": "Tidspunkt oppgaven ble registrert."
        }
      ],
      "primaryKey": ["id"],
      "foreignKeys": [
        {
          "columns": ["milestone_id"],
          "references": {
            "schema": "public",
            "table": "goal_milestones",
            "columns": ["id"]
          },
          "onDelete": "cascade"
        }
      ],
      "indexes": [
        {
          "name": "goal_milestone_todos_milestone_id_position_idx",
          "columns": ["milestone_id", "position"]
        }
      ]
    }
  ]
}
